var lowestPriceWithFeeRegExp=/<span class="market_listing_price market_listing_price_with_fee">\s*(((?!Sold).)*?)\s*<\/span>/i,lowestPriceWithoutFeeRegExp=/<span class="market_listing_price market_listing_price_without_fee">\s*(((?!Sold).)*?)\s*<\/span>/i,insGemExp=/<span style="font-size: 18px; color: rgb\(255, 255, 255\)">(((?!:).)*?): \d+<\/span><br><span style="font-size: 12px">Inscribed Gem<\/span>/gi,kinGemExp=/<span style="font-size: 18px; color: rgb\(255, 255, 255\)">(((?!<).)*?)<\/span><br><span style="font-size: 12px">Kinetic Gem<\/span>/gi,priGemExp=/<span style="font-size: 18px; color: rgb\(\d+, \d+, \d+\)">(((?!<).)*?)<\/span><br><span style="font-size: 12px">Prismatic Gem<\/span>/gi,ethGemExp=/<span style="font-size: 18px; color: rgb\(255, 255, 255\)">(((?!<).)*?)<\/span><br><span style="font-size: 12px">Ethereal Gem<\/span>/gi,corGemExp=/<span style="font-size: 18px; color: rgb\(255, 255, 255\)">(((?!:).)*?): \d+<\/span><br><span style="font-size: 12px">Foulfell Shard<\/span>/gi,masGemExp=/<span style="font-size: 18px; color: rgb\(255, 255, 255\)">(((?!:).)*?): \d+<\/span><br><span style="font-size: 12px">Rune of the Duelist Indomitable<\/span>/gi,cachePrices={},hItem=null,currencyId=1,countryCode="",UpdateTotal=null,mediumPrice=0,mediumName="",getMediumPrice=function(n){var t=window.location.protocol+"//steamcommunity.com/market/priceoverview/?appid="+n.appid+"&country="+countryCode+"&currency="+currencyId+"&market_hash_name="+encodeURIComponent(n.market_hash_name);mediumName=n.market_hash_name;PriceQueue.GetPrice({method:"GET",url:t,success:function(n){n.success&&(mediumPrice=n.lowest_price)}})};typeof BShouldSuppressFades=="undefined"&&(BShouldSuppressFades=function(){return!1});var getLowestPriceHandler=function(n,t,i){var r=n,w=r.appid,p,o,f,e,s,h,u,l,a,c,v,y;if(typeof r.market_hash_name!="undefined"){if(p=r.appid+"/"+r.market_hash_name+"/",o=window.location.protocol+"//steamcommunity.com/market/priceoverview/?appid="+r.appid+"&country="+countryCode+"&currency="+currencyId+"&market_hash_name="+encodeURIComponent(r.market_hash_name),cachePrices[o]&&cachePrices[o].nofeePrice&&(r.nofeePrice=cachePrices[o].nofeePrice,r.lowestPrice=cachePrices[o].lowestPrice,r.volume=cachePrices[o].volume,r.providerName=cachePrices[o].providerName),window.agp_gem&&r.type!=="Rare Inscribed Gem"&&r.appid==570)for(h=0;h<r.descriptions.length;h++){if(u=r.descriptions[h],u.insgems)break;for(e=0,u.insgems=[];f=insGemExp.exec(u.value);)s=window.location.protocol+"//steamcommunity.com/market/priceoverview/?appid=570&country="+g_strCountryCode+"&currency="+currencyId+"&market_hash_name=Inscribed "+f[1],u.insgems.push({name:"Inscribed "+f[1]}),PriceQueue.GetPrice({method:"GET",url:s,pars:{gemidx:e},success:function(n,i){var f=0,e=0,o;n.success&&(f=n.lowest_price,e=n.median_price,u.insgems[i.gemidx].lowestPrice=f,u.insgems[i.gemidx].nofeePrice=e,r===hItem&&(o=$(t+"_item_descriptors"),PopulateDescriptions(o,r.descriptions)))},error:function(){}}),e++;while(f=kinGemExp.exec(u.value))s=window.location.protocol+"//steamcommunity.com/market/priceoverview/?appid=570&country="+g_strCountryCode+"&currency="+currencyId+"&market_hash_name=Kinetic: "+f[1],u.insgems.push({name:"Kinetic: "+f[1]}),PriceQueue.GetPrice({method:"GET",url:s,pars:{gemidx:e},success:function(n,i){var f=0,e=0,o;n.success&&(f=n.lowest_price,e=n.median_price,u.insgems[i.gemidx].lowestPrice=f,u.insgems[i.gemidx].nofeePrice=e,r===hItem&&(o=$(t+"_item_descriptors"),PopulateDescriptions(o,r.descriptions)))},error:function(){}}),e++;while(f=masGemExp.exec(u.value))s=window.location.protocol+"//steamcommunity.com/market/priceoverview/?appid=570&country="+g_strCountryCode+"&currency="+currencyId+"&market_hash_name=Rune%20of%20the%20Duelist%20Indomitable",u.insgems.push({name:"Rune%20of%20the%20Duelist%20Indomitable"}),PriceQueue.GetPrice({method:"GET",url:s,pars:{gemidx:e},success:function(n,i){var f=0,e=0,o;n.success&&(f=n.lowest_price,e=n.median_price,u.insgems[i.gemidx].lowestPrice=f,u.insgems[i.gemidx].nofeePrice=e,r===hItem&&(o=$(t+"_item_descriptors"),PopulateDescriptions(o,r.descriptions)))},error:function(){}}),e++;while(f=corGemExp.exec(u.value))s=window.location.protocol+"//steamcommunity.com/market/priceoverview/?appid=570&country="+g_strCountryCode+"&currency="+currencyId+"&market_hash_name=Foulfell Shard",u.insgems.push({name:"Foulfell Shard"}),PriceQueue.GetPrice({method:"GET",url:s,pars:{gemidx:e},success:function(n,i){var f=0,e=0,o;n.success&&(f=n.lowest_price,e=n.median_price,u.insgems[i.gemidx].lowestPrice=f,u.insgems[i.gemidx].nofeePrice=e,r===hItem&&(o=$(t+"_item_descriptors"),PopulateDescriptions(o,r.descriptions)))},error:function(){}}),e++;while(f=ethGemExp.exec(u.value))s=window.location.protocol+"//steamcommunity.com/market/priceoverview/?appid=570&country="+g_strCountryCode+"&currency="+currencyId+"&market_hash_name=Ethereal: "+f[1],u.insgems.push({name:"Ethereal: "+f[1]}),PriceQueue.GetPrice({method:"GET",url:s,pars:{gemidx:e},success:function(n,i){var f=0,e=0,o;n.success&&(f=n.lowest_price,e=n.median_price,u.insgems[i.gemidx].lowestPrice=f,u.insgems[i.gemidx].nofeePrice=e,r===hItem&&(o=$(t+"_item_descriptors"),PopulateDescriptions(o,r.descriptions)))},error:function(){}}),e++;while(f=priGemExp.exec(u.value))s=window.location.protocol+"//steamcommunity.com/market/priceoverview/?appid=570&country="+g_strCountryCode+"&currency="+currencyId+"&market_hash_name=Prismatic: "+f[1],u.insgems.push({name:"Prismatic: "+f[1]}),PriceQueue.GetPrice({method:"GET",url:s,insert:!0,pars:{gemidx:e},success:function(n,i){var f=0,e=0,o;n.success&&(f=n.lowest_price,e=n.median_price,u.insgems[i.gemidx].lowestPrice=f,u.insgems[i.gemidx].nofeePrice=e,r===hItem&&(o=$(t+"_item_descriptors"),PopulateDescriptions(o,r.descriptions)))},error:function(){}}),e++;e>0}if(window.agp_sticker&&r.appid==730)for(h=0;h<r.descriptions.length;h++)if(u=r.descriptions[h],u.type=="html"&&u.value.startsWith('<br><div id="sticker_info" name="sticker_info" title="Sticker Details"')&&!u.stickers){if(u.orgvalue=u.value,u.isstickers=!0,l=u.value.indexOf("<br>Sticker:"),l==-1||u.stickers)break;for(a=u.value.substr(l+12,u.value.length-(l+27)).split(","),u.stickers=[],c=0;c<a.length;c++)u.stickers.push({name:a[c].trim()}),v=window.location.protocol+"//steamcommunity.com/market/priceoverview/?appid=730&country="+g_strCountryCode+"&currency="+currencyId+"&market_hash_name=Sticker | "+a[c].trim(),cachePrices[v]?(u.stickers[c].prices=cachePrices[v],r===g_ActiveInventory.selectedItem&&reloadDes()):PriceQueue.GetPrice({method:"GET",url:v,pars:{stickeridx:c},success:function(n,i){var f=0,e=0,o;n.success&&(f=n.lowest_price,e=n.median_price,u.stickers[i.stickeridx].prices={lowestPrice:f,nofeePrice:e},r===hItem&&(o=$(t+"_item_descriptors"),PopulateDescriptions(o,r.descriptions)))},error:function(){}})}if(r.lowestPrice){PriceQueue.GenPriceDescription(r);r===hItem&&(y=$(t+"_item_descriptors"),PopulateDescriptions(y,r.descriptions));UpdateTotal&&UpdateTotal(r);i&&i(r);return}PriceQueue.GetPrice({method:"GET",url:o,insert:!0,success:function(n){if(n.success){if(r.lowestPrice=n.lowest_price||"Can't get price",r.nofeePrice=n.median_price||"Can't get price",r.volume=n.volume||"",r.providerName=n.providerName||"",PriceQueue.GenPriceDescription(r),r===hItem){var u=$(t+"_item_descriptors");PopulateDescriptions(u,r.descriptions)}}else r.lowestPrice="Fail",r.nofeePrice="Fail",PriceQueue.GenPriceDescription(r);UpdateTotal&&UpdateTotal(r);i&&i(r)},error:function(n){n.success||(cachePrices[o]={},cachePrices[o].lowestPrice=r.lowestPrice="Fail",cachePrices[o].nofeePrice=r.nofeePrice="Fail",r===hItem&&($J("#"+t+"iprice").html("<a href='#' target='_blank' title='"+r.nofeePrice+"'>"+r.lowestPrice+"<\/a>"),$J("#"+t+"iprice").find("a").attr("href",o)));UpdateTotal&&UpdateTotal(r);i&&i(r)}})}},clearCachePrices=function(){cachePrices={}},ModifyDescriptionFunction=function(){PopulateDescriptions=function(n,t){var l,i,o,u,g,r,f,w,s,e,nt,a,b,k;if(n.update(""),!t||!t.length){n.hide();return}n.show();var c=null,d=null,y=0,p=[];for(l=0;l<t.length;l++)if(i=t[l],i.value){if(o=v_trim(i.value.replace(/\[date\](\d*)\[\/date\]/g,function(n,t){var i=new Date(t*1e3);return i.toLocaleString()})),u=new Element("div",{"class":"descriptor"}),i.color&&(u.style.color="#"+i.color),o.length==0)u.update("&nbsp;");else if(i.type=="image")g=new Element("img",{src:v_trim(i.value)}),u.appendChild(g);else if(i.type=="html"){if(r=o,!i.app_data||i.app_data.limited||i.app_data.is_itemset_name||(f={},i.app_data.price&&(w=getNumber(i.app_data.price),f.price=w,f.link=window.location.protocol+"//steamcommunity.com/market/listings/"+g_ActiveInventory.appid+"/"+encodeURIComponent(i.app_data.market_hash_name),f.name=o,f.market_hash_name=i.app_data.market_hash_name,y+=parseFloat(w),r='<a href="'+window.location.protocol+"//steamcommunity.com/market/listings/"+g_ActiveInventory.appid+"/"+encodeURIComponent(i.app_data.market_hash_name)+'" target="_blank" style="color:inherit" class="whiteLink">'+r+" ("+i.app_data.price+")<\/a>"),i.isinset&&(i.app_data.owned?r="&#10003; "+r:(r="&#10007;&nbsp; "+r,i.app_data.price&&p.push(f)))),i.isstickers){for(r=r.substr(0,r.indexOf("<br>Sticker:")+12),s=0;s<i.stickers.length;s++)e=i.stickers[s],s&&(r+=", "),r+=e.name,e.prices&&e.prices.lowestPrice&&(r+=' - <span title="'+e.prices.nofeePrice+'" style="color: #FF0">'+e.prices.lowestPrice+"<\/span>");r+="<\/center><\/div>"}if(i.insgems&&i.insgems.length){for(i.orgvalue?i.value=i.orgvalue:i.orgvalue=i.value,nt=/<span style="font-size: 12px">([\w\s]+)<\/span>/gi,a=0;a<i.insgems.length;a++){var v=nt.exec(i.orgvalue),h=i.insgems[a],tt=window.location.protocol+"//steamcommunity.com/market/listings/570/"+h.name;i.value=h.lowestPrice?i.value.replace(v[0],'<a href="'+tt+'" target="_blank" title="'+h.name+'">'+v[1]+' <span style="color: #FF0">('+h.lowestPrice+")<\/span><\/a>"):i.value.replace(v[0],'<a href="'+tt+'" target="_blank" title="'+h.name+'">'+v[1]+"<\/a>")}r=i.value}u.update(r)}else u.update(o.escapeHTML().replace(/\n/g,"<br>"));i.app_data&&i.app_data.is_itemset_name&&(c=u,d=i.value);i.label&&(b=new Element("span",{"class":"descriptor_label"}),b.update(i.label+": "),u.insert({top:b}));n.appendChild(u)}c&&y>0&&(c.update(d+" ("+formatNumber(y)+")"),p.length>0&&g_bViewingOwnProfile&&g_bMarketAllowed&&buysetbuttons&&!n.id.startsWith("hover")&&(k=$J('<a href="#" class="buy-set">'+SIHLang.buymissing+"<\/a>"),k.click(function(){return BuySetDialog.Show(p),!1}),$J(c).append("<br />").append(k)))};var n=PopulateTags;PopulateTags=function(t,i,r){if(n(t,i,r),r&&r.length>0){var u=$J('<a href="javascript:void(0)">Gen. expression<\/a>');u.click(function(){GenExpDialog.Show(r)});$J(i).append("<br />").append(u)}}};$J(function(){if(currencyId=typeof g_rgWalletInfo!="undefined"?g_rgWalletInfo.wallet_currency:1,countryCode=typeof g_rgWalletInfo!="undefined"?g_rgWalletInfo.wallet_country:"US",typeof currency!="undefined"&&window.currency!=""&&(currencyId=window.currency),window.usevector){var n=GetCookie("mediumname"),t=GetCookie("mediumappid");n&&t&&getMediumPrice({market_hash_name:n,appid:t})}ModifyDescriptionFunction();BuildHover=function(n,t,i){var tt=t.icon_url_large?t.icon_url_large:t.icon_url,v,h,it,f,e,o,r,c,rt,y,u,l,ut,p,w,b,a,k,s,d,g,nt;if(hItem=t,v="",v=g_bIsTrading?ImageURL(tt,192,192):ImageURL(tt,330,192),h="item_desc_content",t.appid&&(h=h+" app"+t.appid+" context"+t.contextid),$(n+"_content").className=h,$(n+"_item_icon").src=v,$(n+"_item_icon").alt=t.name,it=GetNameForItem(t),$(n+"_item_name").update(it),$J("#"+n+"iprice").length==0&&$J("#"+n+"_item_name").after('<h2 id="'+n+'iprice">'),window.agp_hover&&getLowestPriceHandler(t,n),f=$J('div[data-economy-item="'+t.appid+"/"+t.contextid+"/"+t.id+"/"+t.owner+'"]'),f.length==1&&(f=f[0],f.rgItem=t),e=$(n+"_arrow_left"),o=$(n+"_arrow_right"),t.name_color?($(n+"_item_name").style.color="#"+t.name_color,$(n+"_content").parentNode.style.borderColor="#"+t.name_color,e&&(e.style.borderRightColor="#"+t.name_color),o&&(o.style.borderLeftColor="#"+t.name_color)):($(n+"_item_name").style.color="",$(n+"_content").parentNode.style.borderColor="",e&&(e.style.borderRightColor=""),o&&(o.style.borderLeftColor="")),r=$(n+"_fraud_warnings"),r)if(t.fraudwarnings||g_bIsInventoryPage&&t.is_currency){if(r.update(""),t.fraudwarnings)for(c=0;c<t.fraudwarnings.length;c++)u=new Element("div",{"class":"fraud_warning_box"}),rt=new Element("img",{"class":"fraud_warning_image",src:window.location.protocol+"//cdn.steamcommunity.com/public/images/sharedfiles/icons/icon_warning.png"}),u.appendChild(rt),y=new Element("span"),y.update(t.fraudwarnings[c]),u.appendChild(y),r.appendChild(u);g_bIsInventoryPage&&t.is_currency&&(u=new Element("div"),u.update("This amount is private and shown only to you."),r.appendChild(u));r.show()}else r.hide();t.appid&&g_rgAppContextData[t.appid]?(l=g_rgAppContextData[t.appid],$(n+"_game_icon").src=l.icon,$(n+"_game_icon").alt=l.name,$(n+"_game_name").update(l.name),$(n+"_item_type").update(t.type),$(n+"_game_info").show()):$(n+"_game_info").hide();ut=$(n+"_item_descriptors");PopulateDescriptions(ut,t.descriptions);p=$(n+"_item_actions");p&&PopulateActions(p,t.actions,t);w=$(n+"_item_owner_descriptors");w&&PopulateDescriptions(w,t.owner_descriptions);b=$(n+"_item_owner_actions");b&&PopulateActions(b,t.owner_actions,t);a=$(n+"_currency_in_trade");a&&(a.update(""),t.is_currency&&t.parent_currency&&i==UserYou&&(k=i&&i.GetContext(t.appid,t.contextid),s={},s.amount=v_numberformat(t.amount),s.contextname=k?k.name:"",s.currencystyle=t.name_color?"color: #"+t.name_color+";":"",a.update(HoverCurrencyFromTemplate.evaluate(s))));d=$(n+"_item_tags");g=$(n+"_item_tags_content");d&&g&&PopulateTags(d,g,t.tags);nt=$(n+"_item_market_actions");nt&&PopulateMarketActions(nt,t);$(n).builtFor=t;$(n).builtForAmount=t.amount};AddItemHoverToElement=function(n,t){n=$(n);n.observe("mouseover",MouseOverItem.bindAsEventListener(null,UserYou,n,t));n.observe("mouseout",MouseOutItem.bindAsEventListener(null,UserYou,n,t))};window.gpdelayscc&&(PriceQueue._successDelay=window.gpdelayscc);window.gpdelayerr&&(PriceQueue._failureDelay=window.gpdelayerr)});setTimeout(function(){window.gpdelayscc&&(PriceQueue._successDelay=window.gpdelayscc);window.gpdelayerr&&(PriceQueue._failureDelay=window.gpdelayerr)},10);
/*
//# sourceMappingURL=hovermod.script.min.js.map
*/